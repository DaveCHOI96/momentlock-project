<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
	<link rel="stylesheet" th:href="@{/css/main.css}" />
	<link rel="stylesheet" th:href="@{/css/nav.css}" />
	<link rel="stylesheet" th:href="@{/css/commons/commons.css}" />
	<link rel="stylesheet" th:href="@{/css/managerpagetoolex.css}" />
	<link rel="stylesheet" th:href="@{/css/noticebox.css}" />
</head>

<body>
	<div th:replace="~{fragments/sidebar :: sidebar}"></div>
	<div id="mainContainer" class="blurContainer">
		<div th:replace="~{fragments/nav :: nav}"></div>
		
		<div class="managerpagetoolex-modal-container">
			<div class="managerpagetoolex-tab-nav">
				<ul>
					<li class="tabs"><a th:href="@{/momentlock/membermanagement}">회원관리</a></li>
			        <li class="tabs"><a th:href="@{/momentlock/boxmanagement}">상자관리</a></li>
			        <li class="tabs active"><a th:href="@{/momentlock/capsulemanagement}">타임캡슐 관리</a></li>
					<li class="tabs"><a th:href="@{/momentlock/subscriptionmanagement}">구독관리</a></li>
				</ul>
			</div>
			
			<!-- 모달창 -->
			<div class="modal_3">
			  <h1>타임캡슐 관리</h1>
			  <table class="box-table">
				<thead>
					<tr>
					  <th>번호</th>
				      <th>제목</th>
					  <th>닉네임</th>
					  <th>생성일</th>
					  <th>삭제</th>
					</tr>
				</thead>
				<tbody>
					   <tr th:each="capsule : ${capsules}">
						  <td th:text="${capsule.capid}">1</td>
						  <td th:text="${capsule.captitle}">캡슐제목</td>
						  <td th:text="${member.username}">닉네임</td>
						  <td th:text="${capsule.capregdate}">2025-10-02</td>
					      <td>
							<form th:action="@{/momentlock/capsules/delete/{id}(id=${capsule.capid})}" method="post" onsubmit="return confirm('정말로 이 상자를 삭제하시겠습니까?');">
							  <button type="submit" class="delete-btn">삭제</button>
							</form>
						  </td>
					   </tr>
					   <tr th:if="${#lists.isEmpty(capsules)}">
						 <td colspan="5">표시할 캡슐 데이터가 없습니다.</td>
					   </tr>
			     </tbody>
				 </table>
			  </div>
			 
		</div>	
	</div>
	<div th:replace="~{fragments/footer :: footer}"></div>
	<script th:src="@{/js/nav.js}" defer></script>
	<script th:src="@{/js/managerpagetoolex.js}" defer></script>
	<body>

</html>